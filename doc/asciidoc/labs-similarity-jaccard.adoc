[[labs-algorithms-similarity-jaccard]]
= The Jaccard Similarity algorithm

[abstract]
--
This section describes the Jaccard Similarity algorithm in the Neo4j Labs Graph Algorithms library.
--

Jaccard Similarity (coefficient), a term coined by https://en.wikipedia.org/wiki/Paul_Jaccard[Paul Jaccard^], measures similarities between sets.
It is defined as the size of the intersection divided by the size of the union of two sets.

[WARNING]
--
The Jaccard Similarity algorithm was developed by the Neo4j Labs team and is not officially supported.
--

This section includes:

* <<labs-algorithms-similarity-jaccard-context, History and explanation>>
* <<labs-algorithms-similarity-jaccard-usecase, Use-cases - when to use the Jaccard Similarity algorithm>>
* <<labs-algorithms-similarity-jaccard-function-sample, Jaccard Similarity algorithm function sample>>

[[labs-algorithms-similarity-jaccard-context]]
== History and explanation

// tag::explanation[]

Jaccard Similarity is computed using the following formula:

image::jaccard.png[role="middle"]

// This is the raw information for this image:
// ```
// J(A,B) = ∣A ∩ B∣ / ∣(A ∪ B)∣
//        = ∣A ∩ B∣ / ∣A∣ + ∣B∣ - ∣A ∩ B|
// ```

The library contains functions to calculate similarity between sets of data.
The Jaccard Similarity function is best used when calculating the similarity between small numbers of sets.

// end::explanation[]

[[labs-algorithms-similarity-jaccard-usecase]]
== Use-cases - when to use the Jaccard Similarity algorithm

// tag::use-case[]
We can use the Jaccard Similarity algorithm to work out the similarity between two things.
We might then use the computed similarity as part of a recommendation query.
For example, you can use the Jaccard Similarity algorithm to show the products that were purchased by similar customers, in terms of previous products purchased.
// end::use-case[]


[[labs-algorithms-similarity-jaccard-function-sample]]
== Jaccard Similarity algorithm function sample

The Jaccard Similarity function computes the similarity of two lists of numbers.

We can use it to compute the similarity of two hardcoded lists.

.The following will return the Jaccard Similarity of two lists of numbers:
[source, cypher]
----
include::scripts/similarity-jaccard.cypher[tag=function]
----

// tag::function[]
.Results
[opts="header",cols="1"]
|===
| `similarity`
| 0.4
|===
// end::function[]

// tag::function-explanation[]
These two lists of numbers have a Jaccard Similarity of 0.4.
We can see how this result is derived by breaking down the formula:

```
J(A,B) = ∣A ∩ B∣ / ∣A∣ + ∣B∣ - ∣A ∩ B|
J(A,B) = 2 / 3 + 4 - 2
       = 2 / 5
       = 0.4
```
// end::function-explanation[]

We can also use it to compute the similarity of nodes based on lists computed by a Cypher query.

.The following will create a sample graph:
[source, cypher]
----
include::scripts/similarity-jaccard.cypher[tag=create-sample-graph]
----

.The following will return the Jaccard Similarity of Karin and Arya:
[source, cypher]
----
include::scripts/similarity-jaccard.cypher[tag=function-cypher]
----

// tag::function-cypher[]
.Results
[opts="header"]
|===
| `from`       | `to`         | `similarity`
| "Karin" | "Arya" | 0.66

|===
// end::function-cypher[]

.The following will return the Jaccard Similarity of Karin and the other people that have a cuisine in common:
[source, cypher]
----
include::scripts/similarity-jaccard.cypher[tag=function-cypher-all]
----

// tag::function-cypher--all[]
.Results
[opts="header"]
|===
| `from`       | `to`         | `similarity`
| "Karin" | "Arya"     | 0.66
| "Karin" | "Michael"  | 0.25
| "Karin" | "Praveena" | 0.0
| "Karin" | "Zhen"     | 0.0

|===
// end::function-cypher-all[]

